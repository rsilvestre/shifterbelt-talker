{"version":3,"sources":["ExchangeSlave.es6"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;2BAIsB,gBAAgB;;;;IAEjB,aAAa;AACrB,WADQ,aAAa,CACpB,UAAU,EAAE,SAAS,EAAE,IAAI,EAAE;0BADtB,aAAa;;AAE9B,+BAFiB,aAAa,6CAExB,UAAU,EAAE,SAAS,EAAE,IAAI,EAAE;GACpC;;YAHkB,aAAa;;eAAb,aAAa;;;;;;;;WAU9B,YAAC,KAAK,EAAE,QAAQ,EAAE;AAClB,UAAI,CAAC,UAAU,CAAC,WAAW,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC;KAC9C;;;;;;;;;WAOG,cAAC,KAAK,EAAW;wCAAN,IAAI;AAAJ,YAAI;;;AACjB,UAAI,CAAC,IAAI,CAAC,WAAW,EAAE;AACrB,eAAO;OACR;;kDAtBgB,aAAa,uCAwB+B,IAAI;;UAAlD,OAAO,cAAhB,OAAO;UAAqB,QAAQ,cAAlB,QAAQ;;AAEhC,UAAI,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,SAAS,CAAC,EAAE,GAAG,EAAE,KAAK,EAAE,KAAK,EAAE,OAAO,EAAE,CAAC,CAAC,CAAC;;AAE9E,UAAI,QAAQ,EAAE;AACZ,gBAAQ,EAAE,CAAC;OACZ;KACF;;;SA/BkB,aAAa;;;qBAAb,aAAa","file":"ExchangeSlave.js","sourcesContent":["/**\n * Created by michaelsilvestre on 7/06/15\n */\n\nimport Exchanger from './Exchanger.js'\n\nexport default class ExchangeSlave extends Exchanger {\n  constructor(messageOut, messageIn, role) {\n    super(messageOut, messageIn, role);\n  }\n\n  /**\n   *\n   * @param {String} event\n   * @param {Function} callback\n   */\n  on(event, callback) {\n    this._messageIn.addListener(event, callback);\n  }\n\n  /**\n   *\n   * @param {String} event\n   * @param {Arguments} args\n   */\n  emit(event, ...args) {\n    if (!this.isConnected) {\n      return;\n    }\n\n    let { message: message, callback: callback } = super.emit(...args);\n\n    this._messageOut.emit('send', JSON.stringify({ key: event, value: message }));\n\n    if (callback) {\n      callback();\n    }\n  }\n}\n"]}